{"version":3,"file":"gallery.js","sources":["../src/js/api/imgService.js","../src/js/templates/cards.js","../src/js/gallery.js"],"sourcesContent":["const API_KEY = '46483987-c8443b8397d1fa46fa83b5f89';\n\nfunction getImg(searchValue) {\n    const searchParams = new URLSearchParams({\n            key: API_KEY,\n            q: searchValue,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: \"true\"\n        });\n\n    \n    return fetch(`https://pixabay.com/api/?${searchParams.toString()}`).then(res => {\n    if (!res.ok) {\n       throw new Error(res.status);\n     }\n\n     return res.json();\n   });\n}\n\nexport {getImg}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet galleryLightbox;\n\nfunction createCardsMarkup(cards) {\n  const cartItem = cards\n    .map(\n      ({ tags, webformatURL, largeImageURL, likes, views, comments, downloads }) => `\n      <li class=\"gallery-card\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            <div class=\"values-container\">\n                <ul class=\"labels\">\n                    <li>Likes</li>\n                    <li>${likes}</li>\n                </ul>\n                <ul class=\"labels\">\n                    <li>Views</li>\n                    <li>${views}</li>\n                </ul>\n                <ul class=\"labels\">\n                    <li>Comments</li>\n                    <li>${comments}</li>\n                </ul>\n                <ul class=\"labels\">\n                    <li>Downloads</li>\n                    <li>${downloads}</li>\n                </ul>\n            </div>\n        </a>\n      </li>`\n    )\n    .join('');\n\n  const gallery = document.querySelector(\"ul.images-div\");\n  gallery.innerHTML = cartItem; \n\n  if (galleryLightbox) {\n    galleryLightbox.refresh();\n  } else {\n    galleryLightbox = new SimpleLightbox(\".images-div a\", {\n      captionsData: \"alt\",\n      captionDelay: 250,\n    });\n  }\n}\n\nexport { createCardsMarkup };\n","import { getImg } from \"./api/imgService\";\nimport { createCardsMarkup } from './templates/cards'\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst fetchUsersBtn = document.querySelector(\"input[type=submit]\");\nconst imgs = document.querySelector(\".images-div\");\n\nfetchUsersBtn.addEventListener(\"click\", handleSearch);\n\n\nfunction handleSearch(evt) {\n    evt.preventDefault();\n    let searchInput = document.querySelector('input[name=\"search\"]');\n    let notFoundTextEl = document.querySelector('.not-found-el');\n    let searchValue = searchInput.value.trim();\n    \n\n    if (searchValue <= 0 ) {\n        iziToast.show({\n        title: \"Error\",\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        color: \"red\",\n    });\n    return;\n  }\n\n    getImg(searchValue)\n        .then(data => {\n    console.log(data.hits);\n      if (data.total === 0) {\n        imgs.innerHTML = '';\n        notFoundTextEl.innerHTML = `Results for query <span>${searchValue}</span> not found!`;\n        iziToast.show({\n            title: \"Error\",\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            color: \"red\",\n        });\n        return;\n      }\n\n      createCardsMarkup(data.hits);\n    })\n    .catch(console.error);\n\n    searchInput.value = \"\";\n}\n\n\n\n\n"],"names":["API_KEY","getImg","searchValue","searchParams","res","galleryLightbox","createCardsMarkup","cards","cartItem","tags","webformatURL","largeImageURL","likes","views","comments","downloads","gallery","SimpleLightbox","fetchUsersBtn","imgs","handleSearch","evt","searchInput","notFoundTextEl","iziToast","data"],"mappings":"iyBAAA,MAAMA,EAAU,qCAEhB,SAASC,EAAOC,EAAa,CACzB,MAAMC,EAAe,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACxB,CAAS,EAGL,OAAO,MAAM,4BAA4BC,EAAa,SAAQ,CAAE,EAAE,EAAE,KAAKC,GAAO,CAChF,GAAI,CAACA,EAAI,GACN,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG5B,OAAOA,EAAI,MAChB,CAAI,CACJ,CChBA,IAAIC,EAEJ,SAASC,EAAkBC,EAAO,CAChC,MAAMC,EAAWD,EACd,IACC,CAAC,CAAE,KAAAE,EAAM,aAAAC,EAAc,cAAAC,EAAe,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,wCAE5CJ,CAAa;AAAA,4CACTD,CAAY,UAAUD,CAAI;AAAA;AAAA;AAAA;AAAA,0BAI5CG,CAAK;AAAA;AAAA;AAAA;AAAA,0BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,0BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,0BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,YAK9B,EACA,KAAK,EAAE,EAEJC,EAAU,SAAS,cAAc,eAAe,EACtDA,EAAQ,UAAYR,EAEhBH,EACFA,EAAgB,QAAO,EAEvBA,EAAkB,IAAIY,EAAe,gBAAiB,CACpD,aAAc,MACd,aAAc,GACpB,CAAK,CAEL,CCxCA,MAAMC,EAAgB,SAAS,cAAc,oBAAoB,EAC3DC,EAAO,SAAS,cAAc,aAAa,EAEjDD,EAAc,iBAAiB,QAASE,CAAY,EAGpD,SAASA,EAAaC,EAAK,CACvBA,EAAI,eAAc,EAClB,IAAIC,EAAc,SAAS,cAAc,sBAAsB,EAC3DC,EAAiB,SAAS,cAAc,eAAe,EACvDrB,EAAcoB,EAAY,MAAM,KAAI,EAGxC,GAAIpB,GAAe,EAAI,CACnBsB,EAAS,KAAK,CACd,MAAO,QACP,QAAS,2EACT,MAAO,KACf,CAAK,EACD,MACD,CAECvB,EAAOC,CAAW,EACb,KAAKuB,GAAQ,CAEhB,GADF,QAAQ,IAAIA,EAAK,IAAI,EACfA,EAAK,QAAU,EAAG,CACpBN,EAAK,UAAY,GACjBI,EAAe,UAAY,2BAA2BrB,CAAW,qBACjEsB,EAAS,KAAK,CACV,MAAO,QACP,QAAS,2EACT,MAAO,KACnB,CAAS,EACD,MACD,CAEDlB,EAAkBmB,EAAK,IAAI,CACjC,CAAK,EACA,MAAM,QAAQ,KAAK,EAEpBH,EAAY,MAAQ,EACxB"}